"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9740],{26056:function(e,t,n){n.d(t,{_:function(){return h}});var a=n(83872),l=n(93465),r=n(26412),s=n.n(r);let i=function(e,t){let n=e.getBalance.bind(e);return e.getBalance=s()(n,{isPromise:!0,maxAge:t.maxAge,isDeepEqual:!0,maxSize:t.maxSize}),e}(new l.P2(a.I),{maxAge:1e3,maxSize:1e6}),o={supports:e=>"solana-testnet"===e.chainKey||"solana"===e.chainKey,getBalance:async(e,t)=>(await d()).getBalance(e,t)},d=s()(async()=>{let[{getPublicConnection:e},{BalanceProvider__solana:t}]=await Promise.all([n.e(9739).then(n.bind(n,29739)),Promise.all([n.e(5608),n.e(510),n.e(6946)]).then(n.bind(n,86946))]);return new t(e)}),c={supports:e=>"tron"===e.chainKey||"tron-testnet"===e.chainKey,getBalance:async(e,t)=>{let{toHexAddress:a}=await n.e(7490).then(n.bind(n,37490)),l=t.startsWith("0x")?t:a(t);return i.getBalance(e,l)}};var x=n(59533);class u{getBalance(e,t){let n=p(e,t);return this.balances.get(n)}constructor(){this.balances=new x.vP,this.providers=[i,o,c],this.updateBalance=(0,x.ls)(function*(e,t){let n=p(e,t);for(let a of this.providers)if(a.supports(e)){let l=yield a.getBalance(e,t),r=this.balances.get(n);if(null==r?void 0:r.equalTo(l))return r;return this.balances.set(n,l),l}throw Error("No provider for ".concat(e.symbol," on ").concat(e.chainKey))}),(0,x.ky)(this,{providers:!1},{autoBind:!0})}}let m=e=>{var t;return[e.chainKey,e.symbol,null!==(t=e.address)&&void 0!==t?t:"0xNATIVE"].join(":")},p=(e,t)=>m(e)+":"+t,h=new u},45886:function(e,t,n){n.d(t,{X:function(){return c}});var a=n(27573),l=n(5221),r=n(19879);let s=(0,r.zo)(r.xu,{name:"TransactionStep-Item"})(e=>{let{theme:t}=e;return{display:"flex",width:"100%",gap:8,flexDirection:"row",padding:"12px 0",borderBottom:"1px solid ".concat(t.palette.divider),alignItems:"center",justifyContent:"start",marginLeft:"auto","&:last-child":{borderBottom:"none"}}}),i=(0,r.zo)(r.xu,{name:"TransactionStep-ItemLabel"})(e=>{let{theme:t}=e;return{...t.typography.p3,color:t.palette.text.secondary,display:"flex",width:"100%"}}),o=(0,r.zo)(r.xu,{name:"TransactionStep-ItemContent"})(e=>{let{theme:t}=e;return{...t.typography.p2,display:"flex",flexDirection:"column"}}),d=(0,r.zo)(r.xu,{name:"TransactionStep-EndAdornment"})(()=>({marginRight:0,marginLeft:"auto"})),c=e=>{let{adornment:t,title:n,label:c,status:x}=e;return(0,a.jsxs)(s,{children:[t,(0,a.jsxs)(o,{children:[(0,a.jsx)(r.xu,{color:"pending"===x?"text.secondary":"text.primary",children:n}),(0,a.jsx)(i,{children:"active"===x&&c})]}),(0,a.jsx)(d,{children:"done"===x?(0,a.jsx)(l.J,{type:"checkmark",size:16,sx:{color:e=>e.palette.success.main}}):"active"===x?(0,a.jsx)(l.J,{type:"spinner",size:16,sx:{color:e=>e.palette.text.secondary}}):null})]})}},75082:function(e,t,n){n.d(t,{StakeCardForm:function(){return U},j:function(){return M}});var a,l,r=n(27573),s=n(32550),i=n(19902),o=n(7653),d=n(80762),c=n(99080),x=n(5221),u=n(3634),m=n(2712),p=n(85865),h=n(55843),v=n(13436),y=n(19879),k=n(99770),j=n(5759),g=n(79028),S=n(99043),A=n(84047),f=n(35557),b=n(45886),z=n(59430),T=n(5907),w=n(25845),C=n(59236);let I=(0,y.zo)(y.xu,{name:"StakeTransactionSteps"})(()=>({width:"100%",display:"flex",flexDirection:"column"})),E=(0,i.Pi)(()=>{let{steps:e,isApproving:t,amount:n}=j.stakeAddStore;return(0,r.jsx)(I,{children:e.map(e=>{let{type:a}=e;if("approve"===a){var l;return(0,r.jsx)(b.X,{title:"Approve ".concat(null==n?void 0:null===(l=n.token)||void 0===l?void 0:l.symbol),label:"Approve in your wallet...",adornment:(0,r.jsx)(f.e,{srcToken:null==n?void 0:n.token}),status:t?"active":"done"})}return"stake"===a||"renew"===a?(0,r.jsx)(b.X,{title:"Stake",adornment:(0,r.jsx)(z.h,{isPending:t}),status:t?"pending":"active",label:"Confirm in your wallet..."}):"unstake"===a?(0,r.jsx)(b.X,{title:"Unstake",adornment:(0,r.jsx)(C.V,{}),status:t?"pending":"active",label:"Confirm in your wallet..."}):"increaseLock"===a?(0,r.jsx)(b.X,{title:"Increase Lock Time",adornment:(0,r.jsx)(w.s,{}),status:t?"pending":"active",label:"Confirm in your wallet..."}):"stakeAndIncreaseLock"===a?(0,r.jsx)(b.X,{title:"Increase Stake & Lock Time",adornment:(0,r.jsx)(T.g,{}),status:t?"pending":"active",label:"Confirm in your wallet..."}):void 0})})}),B=(0,i.Pi)(()=>{var e,t,n,a,l,s,i,o,d,u,p,h,v;let{isDepositing:g,isExecuting:A,isApproving:f,isWithdrawing:b}=j.stakeAddStore;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.p.SlideIn,{open:A||f,children:[(0,r.jsx)(m.p.SlideIn.TitleBar,{children:"Confirmation Steps"}),(0,r.jsxs)(m.p.SlideIn.Content,{sx:{pb:3},children:[(0,r.jsx)(E,{}),(0,r.jsx)(S.a,{sx:{mt:"auto"},items:g?[{label:"Staked",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(c.r,{currency:null===(e=j.stakeAddStore.amount)||void 0===e?void 0:e.token,size:16}),null!==(h=null===(t=j.stakeAddStore.amount)||void 0===t?void 0:t.toExact())&&void 0!==h?h:"-"," ",null===(a=j.stakeAddStore.amount)||void 0===a?void 0:null===(n=a.token)||void 0===n?void 0:n.symbol]})},{label:"You Will Receive",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(c.r,{currency:{symbol:"VESTG"},size:16}),(0,k.uh)(j.stakeAddStore.votingPower)," veSTG"]})},{label:"Lock End",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(x.J,{type:"lock",size:12}),M(j.stakeAddStore.unlockTime)]})}]:b?[{label:"Unstaked",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(c.r,{currency:null===(s=j.stakeAddStore.item)||void 0===s?void 0:null===(l=s.lockedAmount)||void 0===l?void 0:l.token,size:16}),null!==(v=null===(o=j.stakeAddStore.item)||void 0===o?void 0:null===(i=o.lockedAmount)||void 0===i?void 0:i.toExact())&&void 0!==v?v:"-"," ",null===(p=j.stakeAddStore.item)||void 0===p?void 0:null===(u=p.lockedAmount)||void 0===u?void 0:null===(d=u.token)||void 0===d?void 0:d.symbol]})}]:[]})]})]})})}),P=(0,y.zo)("p",{name:"StakeCardForm--label"})(e=>{let{theme:t}=e;return{...t.typography.p3,color:t.palette.text.primary,marginBottom:4,display:"flex",alignItems:"center",gap:4}}),K=(0,y.zo)("div",{name:"StakeCardForm-Adornment"})(()=>({display:"flex"})),L=(0,y.zo)(y.xu,{name:"StakeCardForm-BalanceContainer"})(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-end",borderRight:"1px solid ".concat(t.palette.divider),paddingRight:12,marginRight:12}});(a=l||(l={})).STAKE="STAKE",a.UNSTAKE="UNSTAKE";let U=(0,i.Pi)(e=>{let{chainKey:t}=e,{canWithdraw:n}=j.stakeAddStore;j.stakeAddStore.setId(t);let[a,l]=o.useState("STAKE");return(0,r.jsxs)(m.p,{title:"Stake",titleEndAdornment:(0,r.jsx)(p.W,{chainKey:t}),sx:{minHeight:"705px"},children:[(0,r.jsx)(h.Q,{size:"lg",sx:{mb:3},options:[{label:"Stake",value:"STAKE"},{label:"Unstake",value:"UNSTAKE",disabled:!n}],selection:{label:"STAKE"===a?"Stake":"Unstake",value:a},onValueChange:e=>l(e)}),"STAKE"===a?(0,r.jsx)(F,{}):(0,r.jsx)(R,{})]})}),F=(0,i.Pi)(()=>{var e;let{isApproving:t,isExecuting:n,canWithdraw:a,canIncreaseLockAmount:l,canIncreaseUnlockTime:s,canCreateLock:i,errors:o}=j.stakeAddStore,{amount:p,duration:h}=j.stakeAddStore.form,A=o.at(0),f=D(),b=G(),z=null===(e=j.stakeAddStore.item)||void 0===e?void 0:e.stgBalance;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.xu,{sx:{flexGrow:"1"},children:[(0,r.jsx)(P,{children:"Select Amount"}),(0,r.jsx)(u.II,{type:"number",min:0,size:"lg",placeholder:"0",value:p,startAdornment:(0,r.jsx)(c.r,{currency:{symbol:"STG"},size:24}),onChange:e=>j.stakeAddStore.setAmount(e.target.value),endAdornment:(0,r.jsxs)(K,{children:[(0,r.jsxs)(L,{children:[(0,r.jsx)(y.xu,{color:"text.secondary",typography:"p3",children:"Balance"}),(0,r.jsx)(y.xu,{color:"text.primary",typography:"p3",children:(0,k.uh)(z)})]}),(0,r.jsx)(u.Rg,{onClick:j.stakeAddStore.setMaxAmount,children:"Max"})]})}),(0,r.jsx)(y.xu,{color:"text.secondary",typography:"p3",sx:{mt:.5,mb:1.5},children:"Est. Value: -"}),(0,r.jsxs)(P,{sx:{mt:"16px"},children:["Stake Duration (1 to 36 months)",(0,r.jsx)(v.R,{text:"Unlock time is rounded to UTC weeks",children:(0,r.jsx)(x.J,{type:"info",size:12})})]}),(0,r.jsx)(u.II,{type:"number",min:0,size:"lg",value:h?String((0,g.kT)(h)):"",placeholder:"0",onChange:e=>j.stakeAddStore.setMonths(e.target.value),endAdornment:(0,r.jsx)(u.Rg,{onClick:j.stakeAddStore.setMaxDuration,children:"Max"})})]}),(0,r.jsx)(S.a,{sx:{mt:2.5,pb:1.5,borderBottom:e=>"1px solid ".concat(e.palette.divider)},items:b}),(0,r.jsx)(S.a,{sx:{mb:2.5,mt:1.5},items:f}),(0,r.jsx)(m.p.Footer,{children:A?(0,r.jsx)(d.z,{size:"lg",variant:"primary",disabled:!0,children:A}):(0,r.jsx)(d.z,{size:"lg",variant:"primary",onClick:j.stakeAddStore.increase,children:t?"Approving":n?"Confirm in wallet":a?"Renew stake duration":l&&s&&p&&h?"Increase amount and lock time":l&&p?"Increase lock amount":s&&h?"Increase lock duration":i?"Create stake":"Enter values"})}),(0,r.jsx)(B,{})]})}),R=(0,i.Pi)(()=>{var e,t;let{isExecuting:n,canWithdraw:a,withdraw:l}=j.stakeAddStore,{balance:s}=null!==(e=j.stakeAddStore.item)&&void 0!==e?e:{},i=D({overrideTimeLeft:"Complete"}),o=G(),x=null==s?void 0:s.lockedAmount;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.xu,{sx:{flexGrow:"1"},children:[(0,r.jsx)(P,{children:"Amount"}),(0,r.jsx)(u.II,{type:"number",min:0,size:"lg",value:null!==(t=null==x?void 0:x.toExact())&&void 0!==t?t:"",disabled:!0,startAdornment:(0,r.jsx)(c.r,{currency:{symbol:"STG"},size:24})})]}),(0,r.jsx)(S.a,{sx:{mt:3,pb:1.5,borderBottom:e=>"1px solid ".concat(e.palette.divider)},items:o}),(0,r.jsx)(S.a,{sx:{mb:2.5,mt:1.5},items:i}),(0,r.jsx)(m.p.Footer,{children:(0,r.jsx)(d.z,{size:"lg",variant:"primary",disabled:n||!a,onClick:l,children:n?"Confirm in wallet":"Unstake"})}),(0,r.jsx)(B,{})]})});function D(e){let{overrideTimeLeft:t}=null!=e?e:{};return[{label:"Time left",value:t||j.stakeAddStore.daysLeft||"-"},{label:"Lock Until",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:"4px",alignItems:"center"},children:[M(j.stakeAddStore.unlockTime),(0,r.jsx)(x.J,{type:"lock",size:16})]})}]}function G(){var e;let{balance:t}=null!==(e=j.stakeAddStore.item)&&void 0!==e?e:{};return[{label:"APY",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:"4px",alignItems:"center"},children:[A.h,(0,r.jsx)(v.R,{text:(0,r.jsxs)(r.Fragment,{children:["The APY displayed is based on data from the last claim period.",(0,r.jsx)("br",{}),"The displayed APY may not represent future yield."]}),children:(0,r.jsx)(x.J,{type:"info",size:16})})]})},{label:"Locked Amount",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:"4px"},children:[(0,r.jsx)(c.r,{currency:{symbol:"STG"},size:16}),(0,k.uh)(null==t?void 0:t.lockedAmount)]})},{label:"Voting Power",value:(0,r.jsxs)(y.xu,{sx:{display:"flex",gap:"4px"},children:[(0,r.jsx)(c.r,{currency:{symbol:"VESTG"},size:16}),(0,k.uh)(j.stakeAddStore.votingPower)]})}]}function M(e){if(!e||0===e)return"-";let t=new Date(1e3*e);try{return(0,s.WU)(t,"MM/dd/yyyy")}catch(e){return"-"}}}}]);